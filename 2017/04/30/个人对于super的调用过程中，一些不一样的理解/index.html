<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>个人对于super的调用过程中，一些不一样的理解 | Me</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">个人对于super的调用过程中，一些不一样的理解</h1><a id="logo" href="/.">Me</a><p class="description">人生何所求 致富和自由</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">个人对于super的调用过程中，一些不一样的理解</h1><div class="post-meta">Apr 30, 2017<span> | </span><span class="category"><a href="/categories/runtime/">runtime</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>曾经有过一份特别好的<code>runtime</code>习题，在孙源大神的博客里<a href="http://blog.sunnyxx.com/2014/11/06/runtime-nuts/" target="_blank" rel="external">神经病院objc runtime入院考试</a>。题目非常难，也很深。其中的第一题，关于<code>super</code>关键字也是很刷新认知。</p>
<p>但是个人感觉，他的解答和其他给出详细解释的大神们的回答，都有点不太能说得通。所以在这里说一下我的一些想法。</p>
<p>首先先把题目再放出来：</p>
<p>下面的代码输出什么？</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line">@implementation Son : Father</div><div class="line">- (id)init &#123;</div><div class="line">    self = [super init];</div><div class="line">    <span class="keyword">if</span> (self) &#123;</div><div class="line">        NSLog(@<span class="string">"%@"</span>, NSStringFromClass([self <span class="keyword">class</span>]));</div><div class="line">        NSLog(@<span class="string">"%@"</span>, NSStringFromClass([super <span class="keyword">class</span>]));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> self;</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure>
<p>答案是<code>Son / Son</code>。孙源大神给的一个简短解释是这样的：</p>
<blockquote>
<p>因为super为编译器标示符，向super发送的消息被编译成<code>objc_msgSendSuper</code>，但仍以self作为reveiver。</p>
</blockquote>
<p>这个解释显然不太够，看了之后依然有点懵逼。因为，这个没有说背后的理论证据，只给了一个结论性的理由。所以有另外一个大神，在他的文章中详细解释了，这也是目前流传最广的一份答案，ChunYeah大佬的博客<a href="http://chun.tips/2014/11/05/objc-runtime-1/" target="_blank" rel="external">刨根问底 Objective－C Runtime（1）－ Self &amp; Super</a>。</p>
<p>贴一下他给出的解答中的关键部分：</p>
<blockquote>
<p>当调用 <code>[super class]</code>时，会转换成<code>objc_msgSendSuper</code>函数。第一步先构造 <code>objc_super</code> 结构体，结构体第一个成员就是 <code>self</code> 。第二个成员是 <code>(id)class_getSuperclass(objc_getClass(“Son”))</code> , 实际该函数输出结果为 <code>Father</code>。第二步是去 <code>Father</code>这个类里去找<code>- (Class)class</code>，没有，然后去<code>NSObject</code>类去找，找到了。最后内部是使用 <code>objc_msgSend(objc_super-&gt;receiver, @selector(class))</code>去调用，此时已经和<code>[self class]</code>调用相同了，故上述输出结果仍然返回 <em>Son</em>。</p>
</blockquote>
<p>这个解释中，有一个地方的跨度非常大，就是：</p>
<blockquote>
<p>最后内部是使用 <code>objc_msgSend(objc_super-&gt;receiver, @selector(class))</code>去调用</p>
</blockquote>
<p>这个地方非常奇怪，就是<strong>本来一直都是调用的<code>objc_msgSendSuper</code>函数，为啥最后换了调用另一个函数。</strong>单从文章全文来看，似乎并没有做出解释。</p>
<p>我的猜测是，作者可能认为， <code>objc_msgSendSuper</code>函数在向父类中去找实现的时候，最后一直找到了<code>NSObject</code>才找到了 <code>- (Class)class</code>这个方法的实现，于是这个函数找到这个实现后，直接对这个类对象发送消息，变成了 <code>objc_msgSend(objc_super-&gt;receiver, @selector(class))</code>。</p>
<p>也就是说，用<code>objc_msgSendSuper</code>找方法实现，找到了，再通过<code>objc_msgSend</code>给调用者发送消息，重新去沿着继承链再找方法实现。这么看来，岂不是很傻，<strong>每一次调用父类方法的时候，都要遍历两遍继承链？</strong>虽然<code>runtime</code>有很好的方法缓存机制，但是如此遍历，肯定不是一个好的设计。况且，<code>objc_msgSendSuper</code>这个函数名就表示，就是已经在给父类发消息了，从代码的调用上，也可以证明。</p>
<p>下面就是调试代码：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line">@interface Father : NSObject</div><div class="line">@end</div><div class="line">  </div><div class="line">@implementation Father</div><div class="line">  </div><div class="line">- (Class)<span class="keyword">class</span> &#123;</div><div class="line">    <span class="keyword">return</span> [NSValue <span class="keyword">class</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@interface Son : Father</div><div class="line">- (<span class="keyword">void</span>)superClassName;</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation Son</div><div class="line">  </div><div class="line">- (Class)<span class="keyword">class</span> &#123;</div><div class="line">    <span class="keyword">return</span> [NSNumber <span class="keyword">class</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)superClassName &#123;</div><div class="line">    NSLog(@<span class="string">"Son's super Class is : %@"</span>, [super <span class="keyword">class</span>]);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@<span class="function">end</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> &#123;</div><div class="line">    Son *foo = [Son <span class="keyword">new</span>];</div><div class="line">    [foo superClassName];</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这段代码就可以很好的反映，究竟是不是在调用<code>super</code>方法时是不是发送两次消息。</p>
<p>首先，在两个类的<code>class</code>重写方法中，打断点。</p>
<p>运行起来后，第一次的断点，是走<code>Father</code>类。<strong>因为此时实际上是<code>objc_msgSendSuper</code>在发送消息。继续运行，<code>Son</code>的断点是根本不会走的。</strong>会直接输出<code>Son&#39;s super Class is : NSValue</code>。</p>
<p>所以，为什么当父类重写<code>- (Class)class</code>方法时，输出就是正确的？</p>
<p><strong>按照ChunYeal大佬的说法，找到方法后会变成使用 <code>objc_msgSend(objc_super-&gt;receiver, @selector(class))</code>去调用，那么还是输出了 <em>Son</em> 的类才对啊。</strong></p>
<p>所以，这个例子就证明了两点：</p>
<ol>
<li><strong>沿着父类找实现的过程只有一次。</strong></li>
<li><strong>使用<code>super</code>关键字究竟能不能得到正确结果，取决于是不是调用的方法是由<code>NSObject</code>来实现的。</strong></li>
</ol>
<p>所以，可以推断，在原先题目中，之所以<code>Son</code>取得<code>super class</code>的结果依然是<code>Son</code>，是因为<code>NSObject</code>的实现原因。</p>
<p>所以思路清晰了，重新捋一下。原来题目中整个过程应该是这样的</p>
<ol>
<li>Son 对象调用 <code>super class</code>方法，编译器转换为<code>objc_msgSendSuper</code>函数发送<code>class</code>消息。</li>
<li>函数直接前往 Father 的实现中寻找，发现并没有实现。</li>
<li>继续沿着继承链，找到了 <code>NSObject</code>，有<code>class</code>方法实现。</li>
<li>直接返回结果给调用者，这个结果就是<code>Son Class</code>。</li>
</ol>
<p>所以，我们就需要明确，<code>NSObject</code>类的<code>class</code>方法实现是怎样的原理。</p>
<p>所以，我们可以查看源文件<code>NSObject.mm</code>可以看到：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line">- (Class)<span class="keyword">class</span> &#123;</div><div class="line">    <span class="keyword">return</span> object_getClass(self);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>继续看：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line"><span class="function">Class <span class="title">object_getClass</span><span class="params">(id obj)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (obj) <span class="keyword">return</span> obj-&gt;getIsa();</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> Nil;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>马上接近真相：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line">objc_object::getIsa() </div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (!isTaggedPointer()) <span class="keyword">return</span> ISA();</div><div class="line"></div><div class="line">    <span class="keyword">uintptr_t</span> ptr = (<span class="keyword">uintptr_t</span>)<span class="keyword">this</span>;</div><div class="line">    <span class="keyword">if</span> (isExtTaggedPointer()) &#123;</div><div class="line">        <span class="keyword">uintptr_t</span> slot = </div><div class="line">            (ptr &gt;&gt; _OBJC_TAG_EXT_SLOT_SHIFT) &amp; _OBJC_TAG_EXT_SLOT_MASK;</div><div class="line">        <span class="keyword">return</span> objc_tag_ext_classes[slot];</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">uintptr_t</span> slot = </div><div class="line">            (ptr &gt;&gt; _OBJC_TAG_SLOT_SHIFT) &amp; _OBJC_TAG_SLOT_MASK;</div><div class="line">        <span class="keyword">return</span> objc_tag_classes[slot];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>再往下已经不需要看了，因为我们能明确，实际上，<strong><code>NSObject</code>的<code>- (Class)class</code>方法实际的本质是取得<code>isa</code>指针。</strong>我们前面已经知道，当使用<code>super</code>关键字时，会转换成函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line">objc_msgSendSuper(<span class="keyword">struct</span> objc_super *super, SEL op, ...)</div></pre></td></tr></table></figure>
<p>第一个参数是：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line"><span class="keyword">struct</span> objc_super &#123;</div><div class="line">   __unsafe_unretained id receiver;</div><div class="line">   __unsafe_unretained Class super_class;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>使用<code>clang</code>重写文件，查看<code>NSLog(@&quot;%@&quot;, NSStringFromClass([super class]));</code>对于的代码：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><div class="line">NSLog((NSString *)&amp;__NSConstantStringImpl__var_folders_gm_0jk35cwn1d3326x0061qym280000gn_T_main_a5cecc_mi_1, NSStringFromClass(((Class (*)(__rw_objc_super *, SEL))(<span class="keyword">void</span> *)objc_msgSendSuper)((__rw_objc_super)&#123; (id)self, (id)class_getSuperclass(objc_getClass(<span class="string">"Son"</span>)) &#125;, sel_registerName(<span class="string">"class"</span>))));</div></pre></td></tr></table></figure>
<p>所以可以得到结论，在向父类传递消息的时候，是去父类找实现，但是消息的接收者<code>receiver</code>依然是<code>self</code>。这一点，孙源大神讲得的确正确。但是关键就在于：</p>
<p><strong>真正使得例子中返回的<code>class</code>为 Son 的原因，在于返回的是<code>self</code>的<code>isa</code>。</strong></p>
<p>向上寻找的过程中，并不在乎是具体的哪一个父类实现了方法。而到到了<code>NSObject</code>中，也没有办法真的知道这个消息的接受者究竟是通过什么方式来访问<code>isa</code>的，所以，作为基类，就直接返回消息接受者的信息，这个在设计上就避免了很多不必要的问题。</p>
<p>所以，我认为，我的这个解释更具有合理性一些。</p>
<hr>
<p>希望有不同意见的大神能指正其中的错误，更深入彻底的理解这个问题。</p>
<h3 id="更新补充"><a href="#更新补充" class="headerlink" title="更新补充"></a>更新补充</h3><hr>
<p>苹果对于消息机制中的函数，例如<code>objc_msgSend</code>，都丧心病狂得采用了汇编的实现。鶸如我，导致看起来晕晕乎乎。目前能看懂的部分，是下面这些(仅以<code>objc-msg-x86_64.s</code>中的实现为参考)：</p>
<p><code>objc_msgSend</code> 实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="comment">/********************************************************************</span></div><div class="line"> *</div><div class="line"> * id objc_msgSend(id self, SEL	_cmd,...);</div><div class="line"> * IMP objc_msgLookup(id self, SEL _cmd, ...);</div><div class="line"> *</div><div class="line"> * objc_msgLookup ABI:</div><div class="line"> * IMP returned in r11</div><div class="line"> * Forwarding returned in Z flag</div><div class="line"> * r10 reserved for our use but not used</div><div class="line"> *</div><div class="line"> ********************************************************************/</div><div class="line">	</div><div class="line">	.data</div><div class="line">	.align <span class="number">3</span></div><div class="line">	.globl _objc_debug_taggedpointer_classes</div><div class="line">_objc_debug_taggedpointer_classes:</div><div class="line">	.fill <span class="number">16</span>, <span class="number">8</span>, <span class="number">0</span></div><div class="line">	.globl _objc_debug_taggedpointer_ext_classes</div><div class="line">_objc_debug_taggedpointer_ext_classes:</div><div class="line">	.fill <span class="number">256</span>, <span class="number">8</span>, <span class="number">0</span></div><div class="line"></div><div class="line">	ENTRY _objc_msgSend</div><div class="line">	UNWIND _objc_msgSend, NoFrame</div><div class="line">	MESSENGER_START</div><div class="line"></div><div class="line">	NilTest	NORMAL</div><div class="line"></div><div class="line">	GetIsaFast NORMAL		<span class="comment">// r10 = self-&gt;isa</span></div><div class="line">	CacheLookup NORMAL, CALL	<span class="comment">// calls IMP on success</span></div><div class="line"></div><div class="line">	NilTestReturnZero NORMAL</div><div class="line"></div><div class="line">	GetIsaSupport NORMAL</div><div class="line"></div><div class="line"><span class="comment">// cache miss: go search the method lists</span></div><div class="line">LCacheMiss:</div><div class="line">	<span class="comment">// isa still in r10</span></div><div class="line">	MESSENGER_END_SLOW</div><div class="line">	jmp	__objc_msgSend_uncached</div><div class="line"></div><div class="line">	END_ENTRY _objc_msgSend</div><div class="line"></div><div class="line">	</div><div class="line">	ENTRY _objc_msgLookup</div><div class="line"></div><div class="line">	NilTest	NORMAL</div><div class="line"></div><div class="line">	GetIsaFast NORMAL		<span class="comment">// r10 = self-&gt;isa</span></div><div class="line">	CacheLookup NORMAL, LOOKUP	<span class="comment">// returns IMP on success</span></div><div class="line"></div><div class="line">	NilTestReturnIMP NORMAL</div><div class="line"></div><div class="line">	GetIsaSupport NORMAL</div><div class="line"></div><div class="line"><span class="comment">// cache miss: go search the method lists</span></div><div class="line">LCacheMiss:</div><div class="line">	<span class="comment">// isa still in r10</span></div><div class="line">	jmp	__objc_msgLookup_uncached</div><div class="line"></div><div class="line">	END_ENTRY _objc_msgLookup</div><div class="line"></div><div class="line">	</div><div class="line">	ENTRY _objc_msgSend_fixup</div><div class="line">	int3</div><div class="line">	END_ENTRY _objc_msgSend_fixup</div><div class="line"></div><div class="line">	</div><div class="line">	STATIC_ENTRY _objc_msgSend_fixedup</div><div class="line">	<span class="comment">// Load _cmd from the message_ref</span></div><div class="line">	movq	<span class="number">8</span>(%a2), %a2</div><div class="line">	jmp	_objc_msgSend</div><div class="line">	END_ENTRY _objc_msgSend_fixedup</div></pre></td></tr></table></figure>
<p><code>objc_msgSendSuper</code>实现</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">/********************************************************************</div><div class="line"> *</div><div class="line"> * id objc_msgSendSuper(struct objc_super *super, SEL _cmd,...);</div><div class="line"> *</div><div class="line"> * struct objc_super &#123;</div><div class="line"> *		id	receiver;</div><div class="line"> *		Class	class;</div><div class="line"> * &#125;;</div><div class="line"> ********************************************************************/</div><div class="line">	</div><div class="line">	ENTRY _objc_msgSendSuper</div><div class="line">	UNWIND _objc_msgSendSuper, NoFrame</div><div class="line">	MESSENGER_START</div><div class="line">	</div><div class="line">// search the cache (objc_super in %a1)</div><div class="line">	movq	class(%a1), %r10	// class = objc_super-&gt;class</div><div class="line">	movq	receiver(%a1), %a1	// load real receiver</div><div class="line">	CacheLookup NORMAL, CALL	// calls IMP on success</div><div class="line"></div><div class="line">// cache miss: go search the method lists</div><div class="line">LCacheMiss:</div><div class="line">	// class still in r10</div><div class="line">	MESSENGER_END_SLOW</div><div class="line">	jmp	__objc_msgSend_uncached</div><div class="line">	</div><div class="line">	END_ENTRY _objc_msgSendSuper</div></pre></td></tr></table></figure>
<p>可以大概看到，除了缓存的查找之外，两个函数核心的功能都在调用<code>__objc_msgSend_uncached</code>里。</p>
<p>所以，<strong><code>objc_msgSendSuper</code>其实的本质和<code>objc_msgSend</code>是一样的，但不是前者调用了后者的关系。</strong></p>
<p>不知道是不是理解有误，还请更厉害的大神能指点。</p>
<hr>
<h3 id="补充一个丧心病狂-super-class-问题"><a href="#补充一个丧心病狂-super-class-问题" class="headerlink" title="补充一个丧心病狂 super class 问题"></a>补充一个丧心病狂 super class 问题</h3><p>请问输出什么</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@interface BaseObject : NSObject</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation BaseObject</div><div class="line">@end</div><div class="line"></div><div class="line">@interface Father : BaseObject</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation Father</div><div class="line">- (Class)class &#123;</div><div class="line">    return [Father class];</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"></div><div class="line">@interface Son : Father</div><div class="line">- (void)superClassName;</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation Son</div><div class="line">- (void)superClassName &#123;</div><div class="line">    NSLog(@&quot;Son&apos;s super Class is : %@&quot;, [super class]);</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"></div><div class="line">int main(int argc, const char * argv[]) &#123;</div><div class="line">    Son *foo = [Son new];</div><div class="line">    [foo superClassName];</div><div class="line">    NSLog(@&quot;%@&quot;,[foo superclass]);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://suntao.me/2017/04/30/个人对于super的调用过程中，一些不一样的理解/" data-id="cj93n7o8t000jqtfy9hhv0w0d" class="article-share-link">分享到</a><div class="tags"><a href="/tags/runtime-OC底层/">runtime OC底层</a></div><div class="post-nav"><a href="/2017/04/19/闲情——C语言指针/" class="pre">闲情——C语言指针和数组的探索</a><a href="/2017/05/18/block到底啥时候崩溃/" class="next">Block 到底啥时候崩溃</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://suntao.me"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/05/18/block到底啥时候崩溃/">Block 到底啥时候崩溃</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/30/个人对于super的调用过程中，一些不一样的理解/">个人对于super的调用过程中，一些不一样的理解</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/19/闲情——C语言指针/">闲情——C语言指针和数组的探索</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/10/iOS 客户端对于运营商劫持的一点点对抗方式/">iOS 客户端对于运营商劫持的一点点对抗方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/24/针尖上带着脚镣跳舞的widget/">针尖上带着脚镣跳舞的widget</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/14/从-property说起（四）深入成员变量/">从@property说起（四）深入成员变量</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/09/从-property说起（三）atomic与多线程锁/">从@property说起（三）atomic与多线程锁</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/21/从-property说起（二）当我们写下-property-nonatomic-weak-id-obj时，我们究竟写了什么/">从@property说起（二）weak关键字</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/20/从@property说起（一）开题篇/">从@property说起（一）开题篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/13/iOS 客户端基于 WebP 图片格式的流量优化（下）/">iOS 客户端基于 WebP 图片格式的流量优化（下）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C语言/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebP/">WebP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Widget/">Widget</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/block/">block</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/runtime/">runtime</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/从-property说起/">从@property说起</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/iOS实际应用/" style="font-size: 15px;">iOS实际应用</a> <a href="/tags/防劫持/" style="font-size: 15px;">防劫持</a> <a href="/tags/OC基础/" style="font-size: 15px;">OC基础</a> <a href="/tags/C指针/" style="font-size: 15px;">C指针</a> <a href="/tags/blcok/" style="font-size: 15px;">blcok</a> <a href="/tags/runtime-OC底层/" style="font-size: 15px;">runtime OC底层</a> <a href="/tags/iOS10-Widget/" style="font-size: 15px;">iOS10 Widget</a></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Me.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>